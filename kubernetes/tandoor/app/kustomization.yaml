apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization
labels:
- includeSelectors: true
  pairs:
    app.kubernetes.io/component: app
resources:
- service.yaml
- deployment.yaml
- ingress.yaml
- sealed-django-key.yaml
- sealed-email.yaml
- volumes.yaml
configMapGenerator:
- name: app-config
  literals:
  - ALLOWED_HOSTS="*"
  - COMMENT_PREF_DEFAULT="1"
  - DB_ENGINE=django.db.backends.postgresql
  - DEBUG="0"
  - DEBUG_TOOLBAR="0"
  - ENABLE_METRICS="1"
  - ENABLE_SIGNUP="0"
  - EXPORT_FILE_CACHE_DURATION="600"
  - FRACTION_PREF_DEFAULT="1"
  - GUNICORN_LOG_LEVEL="info"
  - GUNICORN_MEDIA="0"
  - GUNICORN_WORKERS="4"
  - POSTGRES_DB=recipes
  - POSTGRES_HOST=db-rw.tandoor.svc.cluster.local
  - POSTGRES_PORT="5432"
  - REMOTE_USER_AUTH="0"
  - SQL_DEBUG="0"
  - STICKY_NAV_PREF_DEFAULT="1"
  - TZ=America/Los_Angeles
